<!-- <div class="hold-transition login-page"> -->


<div class="login-box" *ngIf="!forgotpwd">
  <div class="login-logo">
    <img src="assets/images/ang.png">
  </div>
  <div class="login-cont">
    <!-- /.login-logo -->
    <div class="login-box-body">
      <p class="login-box-msg">Sign in to start</p>
      <div class="has-error" [hidden]="!errMessage">{{errMessage}}</div>
      <form action="" method="post">
        <div class="form-group has-feedback" [ngClass]="{'has-error': email.invalid && (email.dirty || email.touched),'has-success': email.valid && (email.dirty || email.touched) }">
          <input type="email" class="form-control" id="email" placeholder="Enter Email" required name="email"
            [(ngModel)]="model.email" #email="ngModel" pattern="^[^\s@]+@[^\s@]+\.[^\s@]{2,}$">
          <div *ngIf="email.errors && (email.dirty || email.touched)" class="has-error">
            <div [hidden]="!email.errors.required">
              Email is required!
            </div>
            <div [hidden]="!email.errors.pattern">
              Please enter a valid email!
            </div>
          </div>
          <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
        </div>
        <div class="form-group has-feedback" [ngClass]="{'has-error': pwd.invalid && (pwd.dirty || pwd.touched),'has-success': pwd.valid && (pwd.dirty || pwd.touched) }">
          <input class="form-control" minlength="6" type="password" placeholder="Password" id="pwd" required name="pwd"
            [(ngModel)]="model.password" #pwd="ngModel" />
          <div *ngIf="pwd.errors && (pwd.dirty || pwd.touched)" class="has-error">
            <div [hidden]="!pwd.errors.required">
              Password is required!
            </div>
            <div [hidden]="!pwd.errors.minlength">
              Please enter a valid password!
            </div>
          </div>
          <span class="glyphicon glyphicon-lock form-control-feedback"></span>
        </div>
        <div class="row">
          <div class="col-xs-8">
            <div class="checkbox icheck">
              <label class="">
                <!-- <div class="icheckbox_square-blue" aria-checked="false" aria-disabled="false" style="position: relative;"><input type="checkbox" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div> Remember Me -->
                <a href="javascript:void(0)" (click)='forgotpwd = !forgotpwd'>I forgot my password</a>
                <br>
              </label>
            </div>
          </div>
          <!-- /.col -->
          <div class="col-xs-4 text-center">
            <button type="submit" class="btn btn-primary btn-block btn-flat" (click)="login(model)">Sign In</button>
          </div>
          <!-- /.col -->
        </div>
        <!-- <div class="row">
          <div style="padding-top: 10%;margin-left: 30%;">----------- OR -----------</div>
          <div class="col-md-6 row-block" style="padding-top: 10%;margin-left: 25%;">
            <a href="#/register" class="btn btn-primary btn-block btn-flat">New User</a>
          </div>
        </div> -->
      </form>
    </div>
    <!-- /.login-box-body -->
  </div>
</div>

<!-- Forgot Password HTML starts -->
<div class="login-box" *ngIf="forgotpwd" [hidden]='forgotsuccess'>
  <div class="login-cont">
    <div class="login-logo">
      <a href="javascript:void(0)">
        <b>Forgot</b>Password</a>
    </div>
    <!-- /.login-logo -->
    <div class="login-box-body">
      <p class="login-box-msg">You can reset your password here.</p>

      <form action="" method="post">
        <div class="form-group has-feedback" [ngClass]="{'has-error': email.invalid && (email.dirty || email.touched),'has-success': email.valid && (email.dirty || email.touched) }">
          <input type="email" class="form-control" id="email" placeholder="Enter Email" required name="email"
            [(ngModel)]="model.email" #email="ngModel" pattern="^[^\s@]+@[^\s@]+\.[^\s@]{2,}$">
          <div *ngIf="email.errors && (email.dirty || email.touched)" class="has-error">
            <div [hidden]="!email.errors.required">
              Email is required!
            </div>
            <div [hidden]="!email.errors.pattern">
              Please enter a valid email!
            </div>
          </div>
          <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
        </div>
        <div class="row">
          <div class="col-xs-8">
            <div class="checkbox icheck">
              <label class="">
                <!-- <div class="icheckbox_square-blue" aria-checked="false" aria-disabled="false" style="position: relative;"><input type="checkbox" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div> Remember Me -->
                <a href="javascript:void(0)" (click)='forgotpwd = !forgotpwd'>Back To Login</a>
                <br>
              </label>
            </div>
          </div>
          <!-- /.col -->
          <div class="col-xs-4 text-center">
            <button type="submit" class="btn btn-primary btn-block btn-flat" (click)="forgotpassword(model);forgotsuccess = !forgotsuccess">Send
              In</button>
          </div>
          <!-- /.col -->
        </div>
      </form>
    </div>
    <!-- /.login-box-body -->
  </div>
</div>
<!-- Forgot Password HTML ends -->

<div *ngIf="popup" id="popup_this">
    <div >
      <div class="modal-content" style="background: red">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" (click)="cancel()">&times;</button>
            <h4 class="modal-title" style="text-align: center">Do You Want To Logout From All Sessions</h4>
          </div>
          <div class="modal-footer" style="text-align: center">
            <button type="button" class="btn btn-default" data-dismiss="modal" (click)="cancel()">Cancel</button>
            <button class="btn btn-primary" type="submit" (click)="login1(model)">Yes</button>
          </div>
      </div>
  </div>
</div>
<ngx-smart-modal #myModal identifier="myModal" >
        <div style="margin-top: -600px;margin-left: 667px;">
          <div  class="modal-dialog">
            <div class="modal-content" style="width: 50%;margin: 36%;background: red">
                <div class="modal-header">
                    <button type="button" class="close" (click)="myModal.close()">&times;</button>
                    <h4 class="modal-title" style="text-align: center">Do You Want To Logout From All Sessions</h4>
                </div>
                <div class="modal-footer" style="text-align: center">
                    <button type="button" class="btn btn-default" (click)="myModal.close()">Cancel</button>
                    <button class="btn btn-primary" type="submit" (click)="login1(model)">Yes</button>
                </div>
            </div>
        </div>
            <!-- <button (click)="myModal.close()">Close</button> -->
        </div>
</ngx-smart-modal>
<!-- <div id="OpenDialog" class="modal fade">
  <div id="dialog" class="modal-dialog">
      <div class="modal-content" style="width: 50%;margin: 36%;">
          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title" style="text-align: center">Do You Want To Logout From All Sessions</h4>
          </div>
          <div class="modal-footer" style="text-align: center">
              <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
              <button class="btn btn-primary" type="submit" (click)="logOut()">Yes</button>
          </div>
      </div>
  </div>
</div> -->





<div *ngIf="showLoader" class="fa fa-spinner fa-spin" style="font-size:50px;text-align: center;
position: absolute;top: 50%;left: 50%;"></div>

<!-- Forgot success -->
<div class="login-box" [hidden]="!forgotsuccess">
  <div class="login-cont">
    <div class="login-logo">
      <a href="javascript:void(0)">
        <b>Forgot</b>Password</a>
    </div>
    <!-- /.login-logo -->
    <div *ngIf = "userexists" class="login-box-body">
      <p style="color:green" class="login-box-msg">Verfication Link Sent To Your Registered Email.</p>
    </div>

    <div *ngIf = "!userexists"class="login-box-body">
        <p style="color:red" class="login-box-msg"><b>User is not existed !</b></p>
      </div>
    <!-- /.login-box-body -->
    <div class="row">
      <div class="col-xs-8">
        <div class="checkbox icheck">
          <label class="">
            <!-- <div class="icheckbox_square-blue" aria-checked="false" aria-disabled="false" style="position: relative;"><input type="checkbox" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"><ins class="iCheck-helper" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins></div> Remember Me -->
            <a href="javascript:void(0)" (click)='forgotpwd = !forgotpwd;forgotsuccess=!forgotsuccess '>Back To Login</a>
            <br>
          </label>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Forgot success HTML ends -->

<!-- </div>  -->

<div class="alert alert-success" id="success-alert" style=" opacity: 0;
    display: block;
    position: absolute;
    right: 10px;
    top: 10px;">
  <button type="button" class="close" data-dismiss="alert">x</button>
  <strong>Success! </strong>
  user successfully loggedin.
</div>

<div class="alert alert-error" id="error-alert" style=" opacity: 0;
    display: block;
    position: fixed;
    right: 10px;
    
    top: 10px;">
  <button type="button" class="close" data-dismiss="alert">x</button>
  <strong>PASSWORD</strong>
  IS invalid .
</div>

<div class="alert alert-error" id="error-alert-notExisted" style=" opacity: 0;
    display: block;
    position: fixed;
    right: 10px;
    
    top: 10px;">
  <button type="button" class="close" data-dismiss="alert">x</button>
  <strong>USER</strong>
  NOT Existed .
</div>